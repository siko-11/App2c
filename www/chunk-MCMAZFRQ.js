import{a as W}from"./chunk-EMJ4NWMD.js";import{a as H}from"./chunk-HUS6YHHP.js";import{$ as O,A as j,M as k,Q as w,T as y,U as M,ba as T,c as I,ca as G,d as h,da as F,ea as N,f as m,fa as R,g as d,ga as A,h as b,ha as B,i as E,j as u,k as n,ka as L,l as o,la as V,m as p,n as x,na as D,o as f,oa as P,p as v,q as C,r as l,ra as $,t as g,y as S}from"./chunk-7JSJLXP4.js";import"./chunk-7CBVZGVG.js";import"./chunk-CHK7ZTV7.js";import"./chunk-FIRK2ZPN.js";import"./chunk-BK2SWOBY.js";import"./chunk-W2DKFL3W.js";import"./chunk-GFAQE7C7.js";import"./chunk-4U6PRYVA.js";import"./chunk-NDXL6NHI.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as _}from"./chunk-RW4GY4BD.js";function U(a,s){if(a&1){let c=x();n(0,"ion-item-sliding",null,0)(2,"ion-item")(3,"ion-label")(4,"h2"),l(5),o(),n(6,"p"),l(7),o(),n(8,"p"),l(9),o()()(),n(10,"ion-item-options",9)(11,"ion-item-option",10),f("click",function(){let e=I(c).$implicit,r=C(1),i=v();return h(i.fun_editar(e.cli_id,r))}),p(12,"ion-icon",11),l(13,"EDITAR "),o(),n(14,"ion-item-option",12),f("click",function(){let e=I(c).$implicit,r=C(1),i=v();return h(i.fun_eliminar(e,r))}),p(15,"ion-icon",13),l(16,"ELIMINAR "),o()()()}if(a&2){let c=s.$implicit;m(5),g("NOMBRES: ",c.cli_nombre,""),m(2),g("CEDULA: ",c.cli_identificacion,""),m(2),g("TELEFONO : ",c.cli_telefono,"")}}var te=(()=>{let s=class s{constructor(t,e,r,i){this.servC=t,this.loading=e,this.servG=r,this.alert=i,this.listaclientes=[]}ngOnInit(){this.cargarClientes()}ionViewWillEnter(){this.cargarClientes()}cargarClientes(){return _(this,null,function*(){let t=yield this.loading.create();t.present(),this.servC.get_clientes().subscribe(e=>{this.objetoRespuesta=e,console.log(this.objetoRespuesta),this.objetoRespuesta.cant>0?(this.listaclientes=this.objetoRespuesta.data,console.log(this.listaclientes),t.dismiss()):this.servG.fun_Mensaje("No existen Datos")},e=>{t.dismiss(),this.servG.fun_Mensaje("Error al cargar los clientes")})})}fun_editar(t,e){e.close(),this.servG.irA("cliente/"+t)}fun_eliminar(t,e){return _(this,null,function*(){e.close(),(yield this.alert.create({header:"Confirmaci\xF3n",message:"\xBFEst\xE1 seguro que desea eliminar el cliente ["+t.cli_nombre+"]?",buttons:[{text:"Si",handler:()=>_(this,null,function*(){let i=yield this.loading.create({message:"Borrando..."});i.present(),this.servC.borrarCliente(t.cli_id).subscribe(q=>{i.dismiss(),this.servG.fun_Mensaje("Se elimin\xF3 correctamente"),this.cargarClientes()},q=>{i.dismiss(),this.servG.fun_Mensaje("Error al eliminar el cliente")})})},{text:"No",handler:()=>{}}]})).present()})}};s.\u0275fac=function(e){return new(e||s)(d(W),d(P),d(H),d(D))},s.\u0275cmp=b({type:s,selectors:[["app-clientes"]],decls:13,vars:3,consts:[["ionItemsliding",""],[3,"translucent"],["slot","start"],["defaultHref","principal"],["slot","end"],[3,"click"],["slot","start","name","add"],[3,"fullscreen"],[4,"ngFor","ngForOf"],["side","start"],["color","primary",3,"click"],["slot","start","name","create"],["color","success",3,"click"],["slot","start","name","trash"]],template:function(e,r){e&1&&(n(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),l(3,"Clientes"),o(),n(4,"ion-buttons",2),p(5,"ion-back-button",3),o(),n(6,"ion-buttons",4)(7,"ion-button",5),f("click",function(){return r.servG.irA("/cliente/0")}),p(8,"ion-icon",6),l(9," NEW "),o()()()(),n(10,"ion-content",7)(11,"ion-list"),E(12,U,17,3,"ion-item-sliding",8),o()()),e&2&&(u("translucent",!0),m(10),u("fullscreen",!0),m(2),u("ngForOf",r.listaclientes))},dependencies:[$,O,T,L,V,j,S,k,M,w,y,B,R,N,F,G,A],encapsulation:2});let a=s;return a})();export{te as ClientesPage};
